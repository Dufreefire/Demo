<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CuTools AI - Local Engine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #000; font-family: sans-serif; }
        
        /* Menu nổi Draggable */
        #floating-container {
            position: fixed;
            top: 20%;
            left: 10px;
            z-index: 999999;
            touch-action: none;
            user-select: none;
            display: none;
        }

        .glass-panel {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(15px);
            border: 1.5px solid rgba(255, 255, 255, 0.15);
            border-radius: 24px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.7);
            width: 160px;
            transition: width 0.3s, height 0.3s;
        }

        /* Thu nhỏ */
        .minimized .glass-panel { width: 50px; height: 50px; border-radius: 50%; overflow: hidden; }
        .minimized #menu-content { display: none; }

        /* Đèn LED nhấp nháy */
        @keyframes led-tai {
            0%, 100% { box-shadow: 0 0 20px #00f2ff; border-color: #00f2ff; background: rgba(0, 242, 255, 0.3); }
            50% { box-shadow: 0 0 5px #00f2ff; border-color: transparent; background: transparent; }
        }
        @keyframes led-xiu {
            0%, 100% { box-shadow: 0 0 20px #ff0040; border-color: #ff0040; background: rgba(255, 0, 64, 0.3); }
            50% { box-shadow: 0 0 5px #ff0040; border-color: transparent; background: transparent; }
        }

        .active-tai { animation: led-tai 0.8s infinite !important; opacity: 1 !important; }
        .active-xiu { animation: led-xiu 0.8s infinite !important; opacity: 1 !important; }

        #site-wrapper { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
        #lobby { position: fixed; inset: 0; z-index: 100; background: #020617; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .drag-handle { cursor: move; padding: 12px; display: flex; justify-content: center; background: rgba(255,255,255,0.05); border-radius: 24px 24px 0 0; }
    </style>
</head>
<body>

    <div id="lobby">
        <div class="mb-10 text-center">
            <h1 class="text-4xl font-black italic text-indigo-500">CUTOOLS<span class="text-white">.AI</span></h1>
            <p class="text-[10px] text-slate-500 font-bold uppercase mt-2 tracking-[0.3em]">Hệ thống quét trực tiếp 2026</p>
        </div>
        <div class="w-72 space-y-4">
            <button onclick="startLocalBot('https://play.betvip.fit/?utm_source=betvip.fit&utm_campaign=betvip.fit&utm_medium=betvip.fit&utm_term=betvip.fit')" class="w-full bg-slate-900 p-5 rounded-3xl border border-white/5 font-bold hover:bg-indigo-600 transition-all">VÀO BETVIP MD5</button>
            <button onclick="startLocalBot('https://sum.club')" class="w-full bg-slate-900 p-5 rounded-3xl border border-white/5 font-bold hover:bg-pink-600 transition-all">VÀO SUMCLUB</button>
        </div>
    </div>

    <div id="site-wrapper"></div>

    <div id="floating-container">
        <div class="glass-panel">
            <div class="drag-handle" id="drag-zone">
                <div class="w-8 h-1 bg-slate-600 rounded-full"></div>
            </div>

            <div id="menu-content" class="p-3">
                <div class="space-y-3">
                    <div id="led-tai" class="py-4 rounded-2xl border border-white/5 text-center opacity-10">
                        <span class="text-2xl font-black text-cyan-400">TÀI</span>
                    </div>
                    <div id="led-xiu" class="py-4 rounded-2xl border border-white/5 text-center opacity-10">
                        <span class="text-2xl font-black text-red-500">XỈU</span>
                    </div>
                </div>
                <div class="mt-4 text-[9px] text-center text-slate-500 font-bold animate-pulse">AI SCANNING...</div>
            </div>

            <button id="minimize-btn" class="w-full py-2 text-slate-600 hover:text-white transition-colors">
                <i class="fas fa-compress-alt"></i>
            </button>
        </div>
    </div>

    <script>
        function startLocalBot(url) {
            document.getElementById('lobby').style.display = 'none';
            document.getElementById('floating-container').style.display = 'block';

            // Nhúng nhà cái
            const wrapper = document.getElementById('site-wrapper');
            wrapper.innerHTML = `<object data="${url}" type="text/html" style="width:100%; height:100%;"></object>`;

            // Khởi chạy thuật toán quét nội bộ (Giả lập quét DOM)
            runAILogic();
        }

        // THUẬT TOÁN DỰ ĐOÁN TẠI CHỖ (KHÔNG CẦN RENDER)
        function runAILogic() {
            setInterval(() => {
                const tai = document.getElementById('led-tai');
                const xiu = document.getElementById('led-xiu');

                // Reset đèn
                tai.className = "py-4 rounded-2xl border border-white/5 text-center opacity-10";
                xiu.className = "py-4 rounded-2xl border border-white/5 text-center opacity-10";

                // Giả lập phân tích từ trang web (Thực tế bạn sẽ lấy dữ liệu từ nội dung object nếu cùng domain)
                const prediction = Math.random() > 0.5 ? 'TAI' : 'XIU';

                if (prediction === 'TAI') {
                    tai.classList.add('active-tai');
                } else {
                    xiu.classList.add('active-xiu');
                }
            }, 10000); // Mỗi 10 giây dự đoán lại
        }

        // LOGIC KÉO THẢ (DRAGGABLE)
        const container = document.getElementById("floating-container");
        const dragZone = document.getElementById("drag-zone");
        let active = false, currentX, currentY, initialX, initialY, xOffset = 0, yOffset = 0;

        const dragStart = (e) => {
            initialX = (e.type === "touchstart" ? e.touches[0].clientX : e.clientX) - xOffset;
            initialY = (e.type === "touchstart" ? e.touches[0].clientY : e.clientY) - yOffset;
            if (e.target === dragZone || dragZone.contains(e.target)) active = true;
        };
        const dragEnd = () => { initialX = currentX; initialY = currentY; active = false; };
        const drag = (e) => {
            if (active) {
                e.preventDefault();
                currentX = (e.type === "touchmove" ? e.touches[0].clientX : e.clientX) - initialX;
                currentY = (e.type === "touchmove" ? e.touches[0].clientY : e.clientY) - initialY;
                xOffset = currentX; yOffset = currentY;
                container.style.transform = `translate3d(${currentX}px, ${currentY}px, 0)`;
            }
        };

        dragZone.addEventListener("touchstart", dragStart);
        document.addEventListener("touchend", dragEnd);
        document.addEventListener("touchmove", drag);
        dragZone.addEventListener("mousedown", dragStart);
        document.addEventListener("mouseup", dragEnd);
        document.addEventListener("mousemove", drag);

        // LOGIC THU NHỎ
        document.getElementById('minimize-btn').onclick = () => {
            container.classList.toggle('minimized');
        };
    </script>
</body>
</html>
